ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"hw_timer.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.HW_TIMER_IoInit,"ax",%progbits
  16              		.align	1
  17              		.global	HW_TIMER_IoInit
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	HW_TIMER_IoInit:
  25              	.LFB112:
  26              		.file 1 "App/Src/hw_timer.c"
   1:App/Src/hw_timer.c **** #include "hw_timer.h"
   2:App/Src/hw_timer.c **** TIM_HandleTypeDef htim1;
   3:App/Src/hw_timer.c **** void HW_TIMER_Init(void)
   4:App/Src/hw_timer.c **** {
   5:App/Src/hw_timer.c ****     TIM_ClockConfigTypeDef sClockSourceConfig = {0};
   6:App/Src/hw_timer.c ****     TIM_MasterConfigTypeDef sMasterConfig = {0};
   7:App/Src/hw_timer.c ****     TIM_OC_InitTypeDef sConfigOC = {0};
   8:App/Src/hw_timer.c ****     TIM_BreakDeadTimeConfigTypeDef sBreakDeadTimeConfig = {0};
   9:App/Src/hw_timer.c **** 
  10:App/Src/hw_timer.c ****     /* USER CODE BEGIN TIM1_Init 1 */
  11:App/Src/hw_timer.c **** 
  12:App/Src/hw_timer.c ****     /* USER CODE END TIM1_Init 1 */
  13:App/Src/hw_timer.c ****     htim1.Instance = TIM1;
  14:App/Src/hw_timer.c ****     htim1.Init.Prescaler = 64;
  15:App/Src/hw_timer.c ****     htim1.Init.CounterMode = TIM_COUNTERMODE_CENTERALIGNED1;
  16:App/Src/hw_timer.c ****     htim1.Init.Period = 999;
  17:App/Src/hw_timer.c ****     htim1.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
  18:App/Src/hw_timer.c ****     htim1.Init.RepetitionCounter = 0;
  19:App/Src/hw_timer.c ****     htim1.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
  20:App/Src/hw_timer.c ****     if (HAL_TIM_Base_Init(&htim1) != HAL_OK)
  21:App/Src/hw_timer.c ****     {
  22:App/Src/hw_timer.c ****         Error_Handler();
  23:App/Src/hw_timer.c ****     }
  24:App/Src/hw_timer.c ****     sClockSourceConfig.ClockSource = TIM_CLOCKSOURCE_INTERNAL;
  25:App/Src/hw_timer.c ****     if (HAL_TIM_ConfigClockSource(&htim1, &sClockSourceConfig) != HAL_OK)
  26:App/Src/hw_timer.c ****     {
  27:App/Src/hw_timer.c ****         Error_Handler();
  28:App/Src/hw_timer.c ****     }
  29:App/Src/hw_timer.c ****     if (HAL_TIM_PWM_Init(&htim1) != HAL_OK)
  30:App/Src/hw_timer.c ****     {
  31:App/Src/hw_timer.c ****         Error_Handler();
  32:App/Src/hw_timer.c ****     }
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 2


  33:App/Src/hw_timer.c ****     sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
  34:App/Src/hw_timer.c ****     sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
  35:App/Src/hw_timer.c ****     if (HAL_TIMEx_MasterConfigSynchronization(&htim1, &sMasterConfig) != HAL_OK)
  36:App/Src/hw_timer.c ****     {
  37:App/Src/hw_timer.c ****         Error_Handler();
  38:App/Src/hw_timer.c ****     }
  39:App/Src/hw_timer.c ****     sConfigOC.OCMode = TIM_OCMODE_PWM1;
  40:App/Src/hw_timer.c ****     sConfigOC.Pulse = 499;
  41:App/Src/hw_timer.c ****     sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
  42:App/Src/hw_timer.c ****     sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
  43:App/Src/hw_timer.c ****     sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
  44:App/Src/hw_timer.c ****     sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
  45:App/Src/hw_timer.c ****     if (HAL_TIM_PWM_ConfigChannel(&htim1, &sConfigOC, TIM_CHANNEL_4) != HAL_OK)
  46:App/Src/hw_timer.c ****     {
  47:App/Src/hw_timer.c ****         Error_Handler();
  48:App/Src/hw_timer.c ****     }
  49:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.OffStateRunMode = TIM_OSSR_DISABLE;
  50:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_DISABLE;
  51:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.LockLevel = TIM_LOCKLEVEL_OFF;
  52:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.DeadTime = 0;
  53:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.BreakState = TIM_BREAK_DISABLE;
  54:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.BreakPolarity = TIM_BREAKPOLARITY_HIGH;
  55:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.AutomaticOutput = TIM_AUTOMATICOUTPUT_DISABLE;
  56:App/Src/hw_timer.c ****     if (HAL_TIMEx_ConfigBreakDeadTime(&htim1, &sBreakDeadTimeConfig) != HAL_OK)
  57:App/Src/hw_timer.c ****     {
  58:App/Src/hw_timer.c ****         Error_Handler();
  59:App/Src/hw_timer.c ****     }
  60:App/Src/hw_timer.c ****     HW_TIMER_IoInit();
  61:App/Src/hw_timer.c ****     HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_4);
  62:App/Src/hw_timer.c **** }
  63:App/Src/hw_timer.c **** 
  64:App/Src/hw_timer.c **** void HW_TIMER_IoInit(void)
  65:App/Src/hw_timer.c **** {
  27              		.loc 1 65 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 24
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 00B5     		push	{lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 14, -4
  35 0002 87B0     		sub	sp, sp, #28
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 32
  66:App/Src/hw_timer.c ****     GPIO_InitTypeDef GPIO_InitStruct = {0};
  38              		.loc 1 66 5 view .LVU1
  39              		.loc 1 66 22 is_stmt 0 view .LVU2
  40 0004 0023     		movs	r3, #0
  41 0006 0493     		str	r3, [sp, #16]
  67:App/Src/hw_timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
  42              		.loc 1 67 5 is_stmt 1 view .LVU3
  43              	.LBB2:
  44              		.loc 1 67 5 view .LVU4
  45              		.loc 1 67 5 view .LVU5
  46 0008 03F18043 		add	r3, r3, #1073741824
  47 000c 03F50433 		add	r3, r3, #135168
  48 0010 9A69     		ldr	r2, [r3, #24]
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 3


  49 0012 42F00402 		orr	r2, r2, #4
  50 0016 9A61     		str	r2, [r3, #24]
  51              		.loc 1 67 5 view .LVU6
  52 0018 9B69     		ldr	r3, [r3, #24]
  53 001a 03F00403 		and	r3, r3, #4
  54 001e 0193     		str	r3, [sp, #4]
  55              		.loc 1 67 5 view .LVU7
  56 0020 019B     		ldr	r3, [sp, #4]
  57              	.LBE2:
  58              		.loc 1 67 5 view .LVU8
  68:App/Src/hw_timer.c ****     /**TIM1 GPIO Configuration    
  69:App/Src/hw_timer.c ****     PA11     ------> TIM1_CH4 
  70:App/Src/hw_timer.c ****     */
  71:App/Src/hw_timer.c ****     GPIO_InitStruct.Pin = GPIO_PIN_11;
  59              		.loc 1 71 5 view .LVU9
  60              		.loc 1 71 25 is_stmt 0 view .LVU10
  61 0022 4FF40063 		mov	r3, #2048
  62 0026 0293     		str	r3, [sp, #8]
  72:App/Src/hw_timer.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  63              		.loc 1 72 5 is_stmt 1 view .LVU11
  64              		.loc 1 72 26 is_stmt 0 view .LVU12
  65 0028 0223     		movs	r3, #2
  66 002a 0393     		str	r3, [sp, #12]
  73:App/Src/hw_timer.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  67              		.loc 1 73 5 is_stmt 1 view .LVU13
  68              		.loc 1 73 27 is_stmt 0 view .LVU14
  69 002c 0593     		str	r3, [sp, #20]
  74:App/Src/hw_timer.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
  70              		.loc 1 74 5 is_stmt 1 view .LVU15
  71 002e 02A9     		add	r1, sp, #8
  72 0030 0248     		ldr	r0, .L3
  73 0032 FFF7FEFF 		bl	HAL_GPIO_Init
  74              	.LVL0:
  75:App/Src/hw_timer.c **** }
  75              		.loc 1 75 1 is_stmt 0 view .LVU16
  76 0036 07B0     		add	sp, sp, #28
  77              	.LCFI2:
  78              		.cfi_def_cfa_offset 4
  79              		@ sp needed
  80 0038 5DF804FB 		ldr	pc, [sp], #4
  81              	.L4:
  82              		.align	2
  83              	.L3:
  84 003c 00080140 		.word	1073809408
  85              		.cfi_endproc
  86              	.LFE112:
  88              		.section	.text.HW_TIMER_Init,"ax",%progbits
  89              		.align	1
  90              		.global	HW_TIMER_Init
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  94              		.fpu softvfp
  96              	HW_TIMER_Init:
  97              	.LFB111:
   4:App/Src/hw_timer.c ****     TIM_ClockConfigTypeDef sClockSourceConfig = {0};
  98              		.loc 1 4 1 is_stmt 1 view -0
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 4


  99              		.cfi_startproc
 100              		@ args = 0, pretend = 0, frame = 88
 101              		@ frame_needed = 0, uses_anonymous_args = 0
 102 0000 30B5     		push	{r4, r5, lr}
 103              	.LCFI3:
 104              		.cfi_def_cfa_offset 12
 105              		.cfi_offset 4, -12
 106              		.cfi_offset 5, -8
 107              		.cfi_offset 14, -4
 108 0002 97B0     		sub	sp, sp, #92
 109              	.LCFI4:
 110              		.cfi_def_cfa_offset 104
   5:App/Src/hw_timer.c ****     TIM_MasterConfigTypeDef sMasterConfig = {0};
 111              		.loc 1 5 5 view .LVU18
   5:App/Src/hw_timer.c ****     TIM_MasterConfigTypeDef sMasterConfig = {0};
 112              		.loc 1 5 28 is_stmt 0 view .LVU19
 113 0004 0024     		movs	r4, #0
 114 0006 1294     		str	r4, [sp, #72]
 115 0008 1394     		str	r4, [sp, #76]
 116 000a 1494     		str	r4, [sp, #80]
 117 000c 1594     		str	r4, [sp, #84]
   6:App/Src/hw_timer.c ****     TIM_OC_InitTypeDef sConfigOC = {0};
 118              		.loc 1 6 5 is_stmt 1 view .LVU20
   6:App/Src/hw_timer.c ****     TIM_OC_InitTypeDef sConfigOC = {0};
 119              		.loc 1 6 29 is_stmt 0 view .LVU21
 120 000e 1094     		str	r4, [sp, #64]
 121 0010 1194     		str	r4, [sp, #68]
   7:App/Src/hw_timer.c ****     TIM_BreakDeadTimeConfigTypeDef sBreakDeadTimeConfig = {0};
 122              		.loc 1 7 5 is_stmt 1 view .LVU22
   7:App/Src/hw_timer.c ****     TIM_BreakDeadTimeConfigTypeDef sBreakDeadTimeConfig = {0};
 123              		.loc 1 7 24 is_stmt 0 view .LVU23
 124 0012 0994     		str	r4, [sp, #36]
 125 0014 0A94     		str	r4, [sp, #40]
 126 0016 0B94     		str	r4, [sp, #44]
 127 0018 0C94     		str	r4, [sp, #48]
 128 001a 0D94     		str	r4, [sp, #52]
 129 001c 0E94     		str	r4, [sp, #56]
 130 001e 0F94     		str	r4, [sp, #60]
   8:App/Src/hw_timer.c **** 
 131              		.loc 1 8 5 is_stmt 1 view .LVU24
   8:App/Src/hw_timer.c **** 
 132              		.loc 1 8 36 is_stmt 0 view .LVU25
 133 0020 2025     		movs	r5, #32
 134 0022 2A46     		mov	r2, r5
 135 0024 2146     		mov	r1, r4
 136 0026 01A8     		add	r0, sp, #4
 137 0028 FFF7FEFF 		bl	memset
 138              	.LVL1:
  13:App/Src/hw_timer.c ****     htim1.Init.Prescaler = 64;
 139              		.loc 1 13 5 is_stmt 1 view .LVU26
  13:App/Src/hw_timer.c ****     htim1.Init.Prescaler = 64;
 140              		.loc 1 13 20 is_stmt 0 view .LVU27
 141 002c 2F48     		ldr	r0, .L19
 142 002e 304B     		ldr	r3, .L19+4
 143 0030 0360     		str	r3, [r0]
  14:App/Src/hw_timer.c ****     htim1.Init.CounterMode = TIM_COUNTERMODE_CENTERALIGNED1;
 144              		.loc 1 14 5 is_stmt 1 view .LVU28
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 5


  14:App/Src/hw_timer.c ****     htim1.Init.CounterMode = TIM_COUNTERMODE_CENTERALIGNED1;
 145              		.loc 1 14 26 is_stmt 0 view .LVU29
 146 0032 4023     		movs	r3, #64
 147 0034 4360     		str	r3, [r0, #4]
  15:App/Src/hw_timer.c ****     htim1.Init.Period = 999;
 148              		.loc 1 15 5 is_stmt 1 view .LVU30
  15:App/Src/hw_timer.c ****     htim1.Init.Period = 999;
 149              		.loc 1 15 28 is_stmt 0 view .LVU31
 150 0036 8560     		str	r5, [r0, #8]
  16:App/Src/hw_timer.c ****     htim1.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 151              		.loc 1 16 5 is_stmt 1 view .LVU32
  16:App/Src/hw_timer.c ****     htim1.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 152              		.loc 1 16 23 is_stmt 0 view .LVU33
 153 0038 40F2E733 		movw	r3, #999
 154 003c C360     		str	r3, [r0, #12]
  17:App/Src/hw_timer.c ****     htim1.Init.RepetitionCounter = 0;
 155              		.loc 1 17 5 is_stmt 1 view .LVU34
  17:App/Src/hw_timer.c ****     htim1.Init.RepetitionCounter = 0;
 156              		.loc 1 17 30 is_stmt 0 view .LVU35
 157 003e 0461     		str	r4, [r0, #16]
  18:App/Src/hw_timer.c ****     htim1.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
 158              		.loc 1 18 5 is_stmt 1 view .LVU36
  18:App/Src/hw_timer.c ****     htim1.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
 159              		.loc 1 18 34 is_stmt 0 view .LVU37
 160 0040 4461     		str	r4, [r0, #20]
  19:App/Src/hw_timer.c ****     if (HAL_TIM_Base_Init(&htim1) != HAL_OK)
 161              		.loc 1 19 5 is_stmt 1 view .LVU38
  19:App/Src/hw_timer.c ****     if (HAL_TIM_Base_Init(&htim1) != HAL_OK)
 162              		.loc 1 19 34 is_stmt 0 view .LVU39
 163 0042 8461     		str	r4, [r0, #24]
  20:App/Src/hw_timer.c ****     {
 164              		.loc 1 20 5 is_stmt 1 view .LVU40
  20:App/Src/hw_timer.c ****     {
 165              		.loc 1 20 9 is_stmt 0 view .LVU41
 166 0044 FFF7FEFF 		bl	HAL_TIM_Base_Init
 167              	.LVL2:
  20:App/Src/hw_timer.c ****     {
 168              		.loc 1 20 8 view .LVU42
 169 0048 0028     		cmp	r0, #0
 170 004a 3DD1     		bne	.L13
 171              	.L6:
  24:App/Src/hw_timer.c ****     if (HAL_TIM_ConfigClockSource(&htim1, &sClockSourceConfig) != HAL_OK)
 172              		.loc 1 24 5 is_stmt 1 view .LVU43
  24:App/Src/hw_timer.c ****     if (HAL_TIM_ConfigClockSource(&htim1, &sClockSourceConfig) != HAL_OK)
 173              		.loc 1 24 36 is_stmt 0 view .LVU44
 174 004c 4FF48053 		mov	r3, #4096
 175 0050 1293     		str	r3, [sp, #72]
  25:App/Src/hw_timer.c ****     {
 176              		.loc 1 25 5 is_stmt 1 view .LVU45
  25:App/Src/hw_timer.c ****     {
 177              		.loc 1 25 9 is_stmt 0 view .LVU46
 178 0052 12A9     		add	r1, sp, #72
 179 0054 2548     		ldr	r0, .L19
 180 0056 FFF7FEFF 		bl	HAL_TIM_ConfigClockSource
 181              	.LVL3:
  25:App/Src/hw_timer.c ****     {
 182              		.loc 1 25 8 view .LVU47
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 6


 183 005a 0028     		cmp	r0, #0
 184 005c 37D1     		bne	.L14
 185              	.L7:
  29:App/Src/hw_timer.c ****     {
 186              		.loc 1 29 5 is_stmt 1 view .LVU48
  29:App/Src/hw_timer.c ****     {
 187              		.loc 1 29 9 is_stmt 0 view .LVU49
 188 005e 2348     		ldr	r0, .L19
 189 0060 FFF7FEFF 		bl	HAL_TIM_PWM_Init
 190              	.LVL4:
  29:App/Src/hw_timer.c ****     {
 191              		.loc 1 29 8 view .LVU50
 192 0064 0028     		cmp	r0, #0
 193 0066 35D1     		bne	.L15
 194              	.L8:
  33:App/Src/hw_timer.c ****     sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 195              		.loc 1 33 5 is_stmt 1 view .LVU51
  33:App/Src/hw_timer.c ****     sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 196              		.loc 1 33 39 is_stmt 0 view .LVU52
 197 0068 0023     		movs	r3, #0
 198 006a 1093     		str	r3, [sp, #64]
  34:App/Src/hw_timer.c ****     if (HAL_TIMEx_MasterConfigSynchronization(&htim1, &sMasterConfig) != HAL_OK)
 199              		.loc 1 34 5 is_stmt 1 view .LVU53
  34:App/Src/hw_timer.c ****     if (HAL_TIMEx_MasterConfigSynchronization(&htim1, &sMasterConfig) != HAL_OK)
 200              		.loc 1 34 35 is_stmt 0 view .LVU54
 201 006c 1193     		str	r3, [sp, #68]
  35:App/Src/hw_timer.c ****     {
 202              		.loc 1 35 5 is_stmt 1 view .LVU55
  35:App/Src/hw_timer.c ****     {
 203              		.loc 1 35 9 is_stmt 0 view .LVU56
 204 006e 10A9     		add	r1, sp, #64
 205 0070 1E48     		ldr	r0, .L19
 206 0072 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 207              	.LVL5:
  35:App/Src/hw_timer.c ****     {
 208              		.loc 1 35 8 view .LVU57
 209 0076 0028     		cmp	r0, #0
 210 0078 2FD1     		bne	.L16
 211              	.L9:
  39:App/Src/hw_timer.c ****     sConfigOC.Pulse = 499;
 212              		.loc 1 39 5 is_stmt 1 view .LVU58
  39:App/Src/hw_timer.c ****     sConfigOC.Pulse = 499;
 213              		.loc 1 39 22 is_stmt 0 view .LVU59
 214 007a 6023     		movs	r3, #96
 215 007c 0993     		str	r3, [sp, #36]
  40:App/Src/hw_timer.c ****     sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 216              		.loc 1 40 5 is_stmt 1 view .LVU60
  40:App/Src/hw_timer.c ****     sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 217              		.loc 1 40 21 is_stmt 0 view .LVU61
 218 007e 40F2F313 		movw	r3, #499
 219 0082 0A93     		str	r3, [sp, #40]
  41:App/Src/hw_timer.c ****     sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 220              		.loc 1 41 5 is_stmt 1 view .LVU62
  41:App/Src/hw_timer.c ****     sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 221              		.loc 1 41 26 is_stmt 0 view .LVU63
 222 0084 0023     		movs	r3, #0
 223 0086 0B93     		str	r3, [sp, #44]
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 7


  42:App/Src/hw_timer.c ****     sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
 224              		.loc 1 42 5 is_stmt 1 view .LVU64
  42:App/Src/hw_timer.c ****     sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
 225              		.loc 1 42 26 is_stmt 0 view .LVU65
 226 0088 0D93     		str	r3, [sp, #52]
  43:App/Src/hw_timer.c ****     sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
 227              		.loc 1 43 5 is_stmt 1 view .LVU66
  43:App/Src/hw_timer.c ****     sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
 228              		.loc 1 43 27 is_stmt 0 view .LVU67
 229 008a 0E93     		str	r3, [sp, #56]
  44:App/Src/hw_timer.c ****     if (HAL_TIM_PWM_ConfigChannel(&htim1, &sConfigOC, TIM_CHANNEL_4) != HAL_OK)
 230              		.loc 1 44 5 is_stmt 1 view .LVU68
  44:App/Src/hw_timer.c ****     if (HAL_TIM_PWM_ConfigChannel(&htim1, &sConfigOC, TIM_CHANNEL_4) != HAL_OK)
 231              		.loc 1 44 28 is_stmt 0 view .LVU69
 232 008c 0F93     		str	r3, [sp, #60]
  45:App/Src/hw_timer.c ****     {
 233              		.loc 1 45 5 is_stmt 1 view .LVU70
  45:App/Src/hw_timer.c ****     {
 234              		.loc 1 45 9 is_stmt 0 view .LVU71
 235 008e 0C22     		movs	r2, #12
 236 0090 09A9     		add	r1, sp, #36
 237 0092 1648     		ldr	r0, .L19
 238 0094 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 239              	.LVL6:
  45:App/Src/hw_timer.c ****     {
 240              		.loc 1 45 8 view .LVU72
 241 0098 10BB     		cbnz	r0, .L17
 242              	.L10:
  49:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_DISABLE;
 243              		.loc 1 49 5 is_stmt 1 view .LVU73
  49:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_DISABLE;
 244              		.loc 1 49 42 is_stmt 0 view .LVU74
 245 009a 0023     		movs	r3, #0
 246 009c 0193     		str	r3, [sp, #4]
  50:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.LockLevel = TIM_LOCKLEVEL_OFF;
 247              		.loc 1 50 5 is_stmt 1 view .LVU75
  50:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.LockLevel = TIM_LOCKLEVEL_OFF;
 248              		.loc 1 50 43 is_stmt 0 view .LVU76
 249 009e 0293     		str	r3, [sp, #8]
  51:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.DeadTime = 0;
 250              		.loc 1 51 5 is_stmt 1 view .LVU77
  51:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.DeadTime = 0;
 251              		.loc 1 51 36 is_stmt 0 view .LVU78
 252 00a0 0393     		str	r3, [sp, #12]
  52:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.BreakState = TIM_BREAK_DISABLE;
 253              		.loc 1 52 5 is_stmt 1 view .LVU79
  52:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.BreakState = TIM_BREAK_DISABLE;
 254              		.loc 1 52 35 is_stmt 0 view .LVU80
 255 00a2 0493     		str	r3, [sp, #16]
  53:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.BreakPolarity = TIM_BREAKPOLARITY_HIGH;
 256              		.loc 1 53 5 is_stmt 1 view .LVU81
  53:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.BreakPolarity = TIM_BREAKPOLARITY_HIGH;
 257              		.loc 1 53 37 is_stmt 0 view .LVU82
 258 00a4 0593     		str	r3, [sp, #20]
  54:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.AutomaticOutput = TIM_AUTOMATICOUTPUT_DISABLE;
 259              		.loc 1 54 5 is_stmt 1 view .LVU83
  54:App/Src/hw_timer.c ****     sBreakDeadTimeConfig.AutomaticOutput = TIM_AUTOMATICOUTPUT_DISABLE;
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 8


 260              		.loc 1 54 40 is_stmt 0 view .LVU84
 261 00a6 4FF40052 		mov	r2, #8192
 262 00aa 0692     		str	r2, [sp, #24]
  55:App/Src/hw_timer.c ****     if (HAL_TIMEx_ConfigBreakDeadTime(&htim1, &sBreakDeadTimeConfig) != HAL_OK)
 263              		.loc 1 55 5 is_stmt 1 view .LVU85
  55:App/Src/hw_timer.c ****     if (HAL_TIMEx_ConfigBreakDeadTime(&htim1, &sBreakDeadTimeConfig) != HAL_OK)
 264              		.loc 1 55 42 is_stmt 0 view .LVU86
 265 00ac 0893     		str	r3, [sp, #32]
  56:App/Src/hw_timer.c ****     {
 266              		.loc 1 56 5 is_stmt 1 view .LVU87
  56:App/Src/hw_timer.c ****     {
 267              		.loc 1 56 9 is_stmt 0 view .LVU88
 268 00ae 01A9     		add	r1, sp, #4
 269 00b0 0E48     		ldr	r0, .L19
 270 00b2 FFF7FEFF 		bl	HAL_TIMEx_ConfigBreakDeadTime
 271              	.LVL7:
  56:App/Src/hw_timer.c ****     {
 272              		.loc 1 56 8 view .LVU89
 273 00b6 B0B9     		cbnz	r0, .L18
 274              	.L11:
  60:App/Src/hw_timer.c ****     HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_4);
 275              		.loc 1 60 5 is_stmt 1 view .LVU90
 276 00b8 FFF7FEFF 		bl	HW_TIMER_IoInit
 277              	.LVL8:
  61:App/Src/hw_timer.c **** }
 278              		.loc 1 61 5 view .LVU91
 279 00bc 0C21     		movs	r1, #12
 280 00be 0B48     		ldr	r0, .L19
 281 00c0 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 282              	.LVL9:
  62:App/Src/hw_timer.c **** 
 283              		.loc 1 62 1 is_stmt 0 view .LVU92
 284 00c4 17B0     		add	sp, sp, #92
 285              	.LCFI5:
 286              		.cfi_remember_state
 287              		.cfi_def_cfa_offset 12
 288              		@ sp needed
 289 00c6 30BD     		pop	{r4, r5, pc}
 290              	.L13:
 291              	.LCFI6:
 292              		.cfi_restore_state
  22:App/Src/hw_timer.c ****     }
 293              		.loc 1 22 9 is_stmt 1 view .LVU93
 294 00c8 FFF7FEFF 		bl	Error_Handler
 295              	.LVL10:
 296 00cc BEE7     		b	.L6
 297              	.L14:
  27:App/Src/hw_timer.c ****     }
 298              		.loc 1 27 9 view .LVU94
 299 00ce FFF7FEFF 		bl	Error_Handler
 300              	.LVL11:
 301 00d2 C4E7     		b	.L7
 302              	.L15:
  31:App/Src/hw_timer.c ****     }
 303              		.loc 1 31 9 view .LVU95
 304 00d4 FFF7FEFF 		bl	Error_Handler
 305              	.LVL12:
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 9


 306 00d8 C6E7     		b	.L8
 307              	.L16:
  37:App/Src/hw_timer.c ****     }
 308              		.loc 1 37 9 view .LVU96
 309 00da FFF7FEFF 		bl	Error_Handler
 310              	.LVL13:
 311 00de CCE7     		b	.L9
 312              	.L17:
  47:App/Src/hw_timer.c ****     }
 313              		.loc 1 47 9 view .LVU97
 314 00e0 FFF7FEFF 		bl	Error_Handler
 315              	.LVL14:
 316 00e4 D9E7     		b	.L10
 317              	.L18:
  58:App/Src/hw_timer.c ****     }
 318              		.loc 1 58 9 view .LVU98
 319 00e6 FFF7FEFF 		bl	Error_Handler
 320              	.LVL15:
 321 00ea E5E7     		b	.L11
 322              	.L20:
 323              		.align	2
 324              	.L19:
 325 00ec 00000000 		.word	htim1
 326 00f0 002C0140 		.word	1073818624
 327              		.cfi_endproc
 328              	.LFE111:
 330              		.section	.text.HW_TIMER_PWM_ChangeDuty,"ax",%progbits
 331              		.align	1
 332              		.global	HW_TIMER_PWM_ChangeDuty
 333              		.syntax unified
 334              		.thumb
 335              		.thumb_func
 336              		.fpu softvfp
 338              	HW_TIMER_PWM_ChangeDuty:
 339              	.LVL16:
 340              	.LFB113:
  76:App/Src/hw_timer.c **** 
  77:App/Src/hw_timer.c **** 
  78:App/Src/hw_timer.c **** void HW_TIMER_PWM_ChangeDuty(uint32_t duty)
  79:App/Src/hw_timer.c **** {
 341              		.loc 1 79 1 view -0
 342              		.cfi_startproc
 343              		@ args = 0, pretend = 0, frame = 0
 344              		@ frame_needed = 0, uses_anonymous_args = 0
 345              		@ link register save eliminated.
  80:App/Src/hw_timer.c ****     __HAL_TIM_SET_COMPARE(&htim1,TIM_CHANNEL_4,duty);
 346              		.loc 1 80 5 view .LVU100
 347 0000 014B     		ldr	r3, .L22
 348 0002 1B68     		ldr	r3, [r3]
 349 0004 1864     		str	r0, [r3, #64]
  81:App/Src/hw_timer.c ****     
  82:App/Src/hw_timer.c **** }
 350              		.loc 1 82 1 is_stmt 0 view .LVU101
 351 0006 7047     		bx	lr
 352              	.L23:
 353              		.align	2
 354              	.L22:
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 10


 355 0008 00000000 		.word	htim1
 356              		.cfi_endproc
 357              	.LFE113:
 359              		.section	.text.HW_TIMER_EnableClk,"ax",%progbits
 360              		.align	1
 361              		.global	HW_TIMER_EnableClk
 362              		.syntax unified
 363              		.thumb
 364              		.thumb_func
 365              		.fpu softvfp
 367              	HW_TIMER_EnableClk:
 368              	.LVL17:
 369              	.LFB114:
  83:App/Src/hw_timer.c **** void HW_TIMER_EnableClk(TIM_HandleTypeDef *htim_base)
  84:App/Src/hw_timer.c **** {
 370              		.loc 1 84 1 is_stmt 1 view -0
 371              		.cfi_startproc
 372              		@ args = 0, pretend = 0, frame = 16
 373              		@ frame_needed = 0, uses_anonymous_args = 0
 374              		@ link register save eliminated.
 375              		.loc 1 84 1 is_stmt 0 view .LVU103
 376 0000 84B0     		sub	sp, sp, #16
 377              	.LCFI7:
 378              		.cfi_def_cfa_offset 16
  85:App/Src/hw_timer.c ****     if (htim_base->Instance == TIM1)
 379              		.loc 1 85 5 is_stmt 1 view .LVU104
 380              		.loc 1 85 18 is_stmt 0 view .LVU105
 381 0002 0368     		ldr	r3, [r0]
 382              		.loc 1 85 8 view .LVU106
 383 0004 1C4A     		ldr	r2, .L33
 384 0006 9342     		cmp	r3, r2
 385 0008 13D0     		beq	.L30
  86:App/Src/hw_timer.c ****     {
  87:App/Src/hw_timer.c ****         __HAL_RCC_TIM1_CLK_ENABLE();
  88:App/Src/hw_timer.c ****     }
  89:App/Src/hw_timer.c ****     else if (htim_base->Instance == TIM2)
 386              		.loc 1 89 10 is_stmt 1 view .LVU107
 387              		.loc 1 89 13 is_stmt 0 view .LVU108
 388 000a B3F1804F 		cmp	r3, #1073741824
 389 000e 1CD0     		beq	.L31
  90:App/Src/hw_timer.c ****     {
  91:App/Src/hw_timer.c ****         __HAL_RCC_TIM2_CLK_ENABLE();
  92:App/Src/hw_timer.c ****     }
  93:App/Src/hw_timer.c ****     else if (htim_base->Instance == TIM3)
 390              		.loc 1 93 10 is_stmt 1 view .LVU109
 391              		.loc 1 93 13 is_stmt 0 view .LVU110
 392 0010 1A4A     		ldr	r2, .L33+4
 393 0012 9342     		cmp	r3, r2
 394 0014 25D0     		beq	.L32
  94:App/Src/hw_timer.c ****     {
  95:App/Src/hw_timer.c ****         __HAL_RCC_TIM3_CLK_ENABLE();
  96:App/Src/hw_timer.c ****     }
  97:App/Src/hw_timer.c ****     else if (htim_base->Instance == TIM4)
 395              		.loc 1 97 10 is_stmt 1 view .LVU111
 396              		.loc 1 97 13 is_stmt 0 view .LVU112
 397 0016 1A4A     		ldr	r2, .L33+8
 398 0018 9342     		cmp	r3, r2
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 11


 399 001a 14D1     		bne	.L24
  98:App/Src/hw_timer.c ****     {
  99:App/Src/hw_timer.c ****         __HAL_RCC_TIM4_CLK_ENABLE();
 400              		.loc 1 99 9 is_stmt 1 view .LVU113
 401              	.LBB3:
 402              		.loc 1 99 9 view .LVU114
 403              		.loc 1 99 9 view .LVU115
 404 001c 194B     		ldr	r3, .L33+12
 405 001e DA69     		ldr	r2, [r3, #28]
 406 0020 42F00402 		orr	r2, r2, #4
 407 0024 DA61     		str	r2, [r3, #28]
 408              		.loc 1 99 9 view .LVU116
 409 0026 DB69     		ldr	r3, [r3, #28]
 410 0028 03F00403 		and	r3, r3, #4
 411 002c 0393     		str	r3, [sp, #12]
 412              		.loc 1 99 9 view .LVU117
 413 002e 039B     		ldr	r3, [sp, #12]
 414              	.LBE3:
 415              		.loc 1 99 9 view .LVU118
 100:App/Src/hw_timer.c ****     }
 101:App/Src/hw_timer.c **** }
 416              		.loc 1 101 1 is_stmt 0 view .LVU119
 417 0030 09E0     		b	.L24
 418              	.L30:
  87:App/Src/hw_timer.c ****     }
 419              		.loc 1 87 9 is_stmt 1 view .LVU120
 420              	.LBB4:
  87:App/Src/hw_timer.c ****     }
 421              		.loc 1 87 9 view .LVU121
  87:App/Src/hw_timer.c ****     }
 422              		.loc 1 87 9 view .LVU122
 423 0032 144B     		ldr	r3, .L33+12
 424 0034 9A69     		ldr	r2, [r3, #24]
 425 0036 42F40062 		orr	r2, r2, #2048
 426 003a 9A61     		str	r2, [r3, #24]
  87:App/Src/hw_timer.c ****     }
 427              		.loc 1 87 9 view .LVU123
 428 003c 9B69     		ldr	r3, [r3, #24]
 429 003e 03F40063 		and	r3, r3, #2048
 430 0042 0093     		str	r3, [sp]
  87:App/Src/hw_timer.c ****     }
 431              		.loc 1 87 9 view .LVU124
 432 0044 009B     		ldr	r3, [sp]
 433              	.LBE4:
  87:App/Src/hw_timer.c ****     }
 434              		.loc 1 87 9 view .LVU125
 435              	.L24:
 436              		.loc 1 101 1 is_stmt 0 view .LVU126
 437 0046 04B0     		add	sp, sp, #16
 438              	.LCFI8:
 439              		.cfi_remember_state
 440              		.cfi_def_cfa_offset 0
 441              		@ sp needed
 442 0048 7047     		bx	lr
 443              	.L31:
 444              	.LCFI9:
 445              		.cfi_restore_state
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 12


  91:App/Src/hw_timer.c ****     }
 446              		.loc 1 91 9 is_stmt 1 view .LVU127
 447              	.LBB5:
  91:App/Src/hw_timer.c ****     }
 448              		.loc 1 91 9 view .LVU128
  91:App/Src/hw_timer.c ****     }
 449              		.loc 1 91 9 view .LVU129
 450 004a 03F50433 		add	r3, r3, #135168
 451 004e DA69     		ldr	r2, [r3, #28]
 452 0050 42F00102 		orr	r2, r2, #1
 453 0054 DA61     		str	r2, [r3, #28]
  91:App/Src/hw_timer.c ****     }
 454              		.loc 1 91 9 view .LVU130
 455 0056 DB69     		ldr	r3, [r3, #28]
 456 0058 03F00103 		and	r3, r3, #1
 457 005c 0193     		str	r3, [sp, #4]
  91:App/Src/hw_timer.c ****     }
 458              		.loc 1 91 9 view .LVU131
 459 005e 019B     		ldr	r3, [sp, #4]
 460              	.LBE5:
  91:App/Src/hw_timer.c ****     }
 461              		.loc 1 91 9 view .LVU132
 462 0060 F1E7     		b	.L24
 463              	.L32:
  95:App/Src/hw_timer.c ****     }
 464              		.loc 1 95 9 view .LVU133
 465              	.LBB6:
  95:App/Src/hw_timer.c ****     }
 466              		.loc 1 95 9 view .LVU134
  95:App/Src/hw_timer.c ****     }
 467              		.loc 1 95 9 view .LVU135
 468 0062 084B     		ldr	r3, .L33+12
 469 0064 DA69     		ldr	r2, [r3, #28]
 470 0066 42F00202 		orr	r2, r2, #2
 471 006a DA61     		str	r2, [r3, #28]
  95:App/Src/hw_timer.c ****     }
 472              		.loc 1 95 9 view .LVU136
 473 006c DB69     		ldr	r3, [r3, #28]
 474 006e 03F00203 		and	r3, r3, #2
 475 0072 0293     		str	r3, [sp, #8]
  95:App/Src/hw_timer.c ****     }
 476              		.loc 1 95 9 view .LVU137
 477 0074 029B     		ldr	r3, [sp, #8]
 478              	.LBE6:
  95:App/Src/hw_timer.c ****     }
 479              		.loc 1 95 9 view .LVU138
 480 0076 E6E7     		b	.L24
 481              	.L34:
 482              		.align	2
 483              	.L33:
 484 0078 002C0140 		.word	1073818624
 485 007c 00040040 		.word	1073742848
 486 0080 00080040 		.word	1073743872
 487 0084 00100240 		.word	1073876992
 488              		.cfi_endproc
 489              	.LFE114:
 491              		.comm	htim1,64,4
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 13


 492              		.text
 493              	.Letext0:
 494              		.file 2 "c:\\vsarm\\armcc\\arm-none-eabi\\include\\machine\\_default_types.h"
 495              		.file 3 "c:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\lock.h"
 496              		.file 4 "c:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\_types.h"
 497              		.file 5 "c:\\vsarm\\armcc\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 498              		.file 6 "c:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\reent.h"
 499              		.file 7 "c:\\vsarm\\armcc\\arm-none-eabi\\include\\math.h"
 500              		.file 8 "c:\\vsarm\\armcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 501              		.file 9 "Drivers/CMSIS/Include/core_cm3.h"
 502              		.file 10 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 503              		.file 11 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 504              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 505              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 506              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 507              		.file 15 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 508              		.file 16 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 509              		.file 17 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 510              		.file 18 "App/Inc/hw_i2c.h"
 511              		.file 19 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim_ex.h"
 512              		.file 20 "App/Inc/hw_msp.h"
 513              		.file 21 "<built-in>"
ARM GAS  C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 hw_timer.c
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:16     .text.HW_TIMER_IoInit:00000000 $t
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:24     .text.HW_TIMER_IoInit:00000000 HW_TIMER_IoInit
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:84     .text.HW_TIMER_IoInit:0000003c $d
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:89     .text.HW_TIMER_Init:00000000 $t
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:96     .text.HW_TIMER_Init:00000000 HW_TIMER_Init
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:325    .text.HW_TIMER_Init:000000ec $d
                            *COM*:00000040 htim1
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:331    .text.HW_TIMER_PWM_ChangeDuty:00000000 $t
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:338    .text.HW_TIMER_PWM_ChangeDuty:00000000 HW_TIMER_PWM_ChangeDuty
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:355    .text.HW_TIMER_PWM_ChangeDuty:00000008 $d
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:360    .text.HW_TIMER_EnableClk:00000000 $t
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:367    .text.HW_TIMER_EnableClk:00000000 HW_TIMER_EnableClk
C:\Users\jsauerer\AppData\Local\Temp\ccfpQdzm.s:484    .text.HW_TIMER_EnableClk:00000078 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
memset
HAL_TIM_Base_Init
HAL_TIM_ConfigClockSource
HAL_TIM_PWM_Init
HAL_TIMEx_MasterConfigSynchronization
HAL_TIM_PWM_ConfigChannel
HAL_TIMEx_ConfigBreakDeadTime
HAL_TIM_PWM_Start
Error_Handler
